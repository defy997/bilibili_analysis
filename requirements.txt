# B站数据分析项目依赖
# Django + MySQL + 数据清洗 + 情感分析

# ============================================
# Django框架及相关
# ============================================
# Django 5.1 是支持 Python 3.10 的最新版本
# 如果要使用 Django 6.0+，需要升级 Python 到 3.12+
Django>=5.1,<6.0
django-cors-headers>=4.0.0

# ============================================
# 数据库驱动 (MySQL)
# ============================================
# 选项1：mysqlclient（推荐，性能更好）
mysqlclient>=2.2.0

# 选项2：PyMySQL（纯Python实现，安装更简单）
# 如果mysqlclient安装失败，可以取消下面的注释使用PyMySQL
# PyMySQL>=1.0.0

# ============================================
# 数据爬取
# ============================================
requests>=2.31.0
beautifulsoup4>=4.12.0
lxml>=4.9.0

# ============================================
# 数据清洗 - 阶段一（文本清洗）
# ============================================
opencc-python-reimplemented>=0.1.7  # 繁简转换

# ============================================
# 数据清洗 - 阶段三（Embedding语义去重）
# ============================================
sentence-transformers>=2.2.0  # 文本向量化
scikit-learn>=1.3.0  # 余弦相似度计算、机器学习

# ============================================
# 情感分析（ONNX Runtime 推理，无需 PyTorch）
# ============================================
# 首次部署需运行 python scripts/export_onnx.py 将 .pt 转为 .onnx
# 转换完成后运行时不再需要 torch
onnxruntime>=1.16.0
transformers>=4.30.0  # 仅用于 tokenizer

# ============================================
# 数据处理和工具
# ============================================
numpy>=1.24.0

# ============================================
# 音频情感分析
# ============================================
librosa>=0.10.0  # 音频特征提取

# ============================================
# 异步任务队列（Celery + Redis）
# ============================================
celery>=5.3.0
redis>=5.0.0
