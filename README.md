# Bç«™è§†é¢‘è¯„è®ºæƒ…æ„Ÿåˆ†æä¸€ä½“åŒ–ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„Bç«™è§†é¢‘è¯„è®ºæƒ…æ„Ÿåˆ†æç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå®ç°"æµè§ˆå™¨æ’ä»¶ + æ‚¬æµ®çª—å£ + Djangoåç«¯"çš„æ— ç¼è”åŠ¨ä½“éªŒã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    WebSocket    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Chromeæ‰©å±•     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Electronæ‚¬æµ®çª—  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Djangoåç«¯     â”‚
â”‚                 â”‚                â”‚                 â”‚             â”‚                 â”‚
â”‚ â€¢ ç›‘æ§è§†é¢‘å˜åŒ–   â”‚                â”‚ â€¢ æ˜¾ç¤ºåˆ†æç»“æœ   â”‚             â”‚ â€¢ çˆ¬å–è¯„è®ºæ•°æ®   â”‚
â”‚ â€¢ æå–BVå·       â”‚                â”‚ â€¢ å®æ—¶æ›´æ–°       â”‚             â”‚ â€¢ æƒ…æ„Ÿåˆ†æ       â”‚
â”‚ â€¢ å‘é€é€šçŸ¥       â”‚                â”‚ â€¢ æ‚¬æµ®ç•Œé¢       â”‚             â”‚ â€¢ æ•°æ®ç¼“å­˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ” æ™ºèƒ½ç›‘æ§
- **é›¶æ‰‹åŠ¨æ“ä½œ**ï¼šåœ¨Bç«™è§‚çœ‹è§†é¢‘æ—¶è‡ªåŠ¨æ£€æµ‹è§†é¢‘åˆ‡æ¢
- **æ¯«ç§’çº§å“åº”**ï¼šè§†é¢‘å˜åŒ–å1-2ç§’å†…æ›´æ–°åˆ†æç»“æœ
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒå„ç§Bç«™URLæ ¼å¼çš„è§†é¢‘è¯†åˆ«

### ğŸªŸ æ‚¬æµ®çª—å£
- **ç±»Steamæ‚¬æµ®çŒ«**ï¼šä¼˜é›…çš„æ¡Œé¢æ‚¬æµ®è®¾è®¡
- **é€æ˜èƒŒæ™¯**ï¼šç°ä»£åŒ–æ¯›ç»ç’ƒæ•ˆæœ
- **å¯æ‹–æ‹½ç•Œé¢**ï¼šéšæ„è°ƒæ•´çª—å£ä½ç½®
- **å§‹ç»ˆç½®é¡¶**ï¼šä¸è¢«å…¶ä»–çª—å£é®æŒ¡

### ğŸ“Š æƒ…æ„Ÿåˆ†æ
- **å®æ—¶å›¾è¡¨**ï¼šEChartsé¥¼å›¾å±•ç¤ºæƒ…æ„Ÿåˆ†å¸ƒ
- **å¤šç»´åº¦åˆ†æ**ï¼šæ­£é¢/ä¸­æ€§/è´Ÿé¢è¯„è®ºç»Ÿè®¡
- **æ™ºèƒ½ç¼“å­˜**ï¼šç›¸åŒè§†é¢‘ç›´æ¥è¿”å›ç¼“å­˜ç»“æœ
- **é«˜å‡†ç¡®ç‡**ï¼šé›†æˆå¤šç§æƒ…æ„Ÿåˆ†æç®—æ³•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.10+
- Node.js 16+
- Chromeæµè§ˆå™¨
- MySQLæ•°æ®åº“

### 1. åç«¯éƒ¨ç½² (Django)

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd bilibili_analysis

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n bilibili_env python=3.10 -y
conda activate bilibili_env

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# æ•°æ®åº“è¿ç§»
python manage.py makemigrations
python manage.py migrate

# å¯åŠ¨æœåŠ¡
python manage.py runserver 0.0.0.0:8000
```

### 2. æ‚¬æµ®çª—å£éƒ¨ç½² (Electron)

```bash
# å®‰è£…ä¾èµ–
cd electron
npm install

# å¯åŠ¨æ‚¬æµ®çª—å£
npm start
# æˆ–ä½¿ç”¨ä¾¿æ·è„šæœ¬
../start_floating_window.bat
```

### 3. æµè§ˆå™¨æ‰©å±•å®‰è£…

è¿è¡Œå®‰è£…è„šæœ¬ï¼š
```bash
install_chrome_extension.bat
```

æˆ–æ‰‹åŠ¨å®‰è£…ï¼š
1. æ‰“å¼€ `chrome://extensions/`
2. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
3. åŠ è½½ `chrome_extension` æ–‡ä»¶å¤¹

### 4. å¼€å§‹ä½¿ç”¨

1. å¯åŠ¨Djangoåç«¯æœåŠ¡
2. å¯åŠ¨Electronæ‚¬æµ®çª—å£
3. å®‰è£…å¹¶å¯ç”¨Chromeæ‰©å±•
4. è®¿é—®Bç«™è§†é¢‘é¡µé¢
5. äº«å—è‡ªåŠ¨åŒ–çš„æƒ…æ„Ÿåˆ†æä½“éªŒï¼

## ğŸ“ é¡¹ç›®ç»“æ„

```
bilibili_analysis/
â”œâ”€â”€ bilibili_analysis/          # Djangoé¡¹ç›®ä¸»ç›®å½•
â”‚   â”œâ”€â”€ settings.py            # Djangoè®¾ç½®
â”‚   â”œâ”€â”€ urls.py                # URLé…ç½®
â”‚   â””â”€â”€ wsgi.py               # WSGIé…ç½®
â”œâ”€â”€ analysis/                  # Djangoåº”ç”¨
â”‚   â”œâ”€â”€ models.py             # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ views.py              # APIè§†å›¾
â”‚   â”œâ”€â”€ crawler.py            # çˆ¬è™«æ¨¡å—
â”‚   â””â”€â”€ sentiment.py          # æƒ…æ„Ÿåˆ†ææ¨¡å—
â”œâ”€â”€ electron/                 # Electronæ‚¬æµ®çª—å£
â”‚   â”œâ”€â”€ main.js               # ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ index.html        # æ‚¬æµ®çª—ç•Œé¢
â”‚   â””â”€â”€ package.json          # ä¾èµ–é…ç½®
â”œâ”€â”€ chrome_extension/         # Chromeæ‰©å±•
â”‚   â”œâ”€â”€ manifest.json         # æ‰©å±•é…ç½®
â”‚   â”œâ”€â”€ content.js            # å†…å®¹è„šæœ¬
â”‚   â”œâ”€â”€ background.js         # åå°è„šæœ¬
â”‚   â””â”€â”€ welcome.html          # æ¬¢è¿é¡µé¢
â”œâ”€â”€ requirements.txt          # Pythonä¾èµ–
â”œâ”€â”€ manage.py                 # Djangoç®¡ç†è„šæœ¬
â”œâ”€â”€ start_floating_window.bat # æ‚¬æµ®çª—å¯åŠ¨è„šæœ¬
â””â”€â”€ install_chrome_extension.bat # æ‰©å±•å®‰è£…è„šæœ¬
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯ (Django)
- **æ¡†æ¶**: Django 4.2 + Django REST Framework
- **æ•°æ®åº“**: MySQL + Redisç¼“å­˜
- **çˆ¬è™«**: Requests + BeautifulSoup4
- **åˆ†æ**: PaddleNLP / SnowNLP / jieba
- **ä»»åŠ¡é˜Ÿåˆ—**: Celery (å¯é€‰)

### å‰ç«¯ (Electron + Vue)
- **æ¡Œé¢åº”ç”¨**: Electron 25+
- **UIæ¡†æ¶**: Vue.js 3 + åŸç”ŸJavaScript
- **å›¾è¡¨åº“**: ECharts 5
- **æ ·å¼**: CSS3 + æ¯›ç»ç’ƒæ•ˆæœ

### æ‰©å±• (Chrome)
- **Manifest**: V3
- **é€šä¿¡**: WebSocket
- **ç›‘æ§**: URLå˜åŒ–æ£€æµ‹

## ğŸ“¡ APIæ¥å£

### æƒ…æ„Ÿåˆ†ææ¥å£
```
GET /api/analyze/{bv_id}
```

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "video_info": {
      "title": "è§†é¢‘æ ‡é¢˜",
      "bv_id": "BV1xx411x7x1",
      "author": "UPä¸»",
      "view_count": 12345
    },
    "sentiment_stats": {
      "positive_count": 234,
      "neutral_count": 123,
      "negative_count": 45,
      "total_comments": 402
    },
    "emotion_distribution": [
      {"name": "æ­£é¢è¯„è®º", "value": 234, "percentage": 58.2},
      {"name": "ä¸­æ€§è¯„è®º", "value": 123, "percentage": 30.6},
      {"name": "è´Ÿé¢è¯„è®º", "value": 45, "percentage": 11.2}
    ]
  }
}
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

1. **å†…å®¹åˆ›ä½œè€…**: å®æ—¶äº†è§£è§‚ä¼—å¯¹è§†é¢‘å†…å®¹çš„åé¦ˆ
2. **æ•°æ®åˆ†æå¸ˆ**: æ‰¹é‡åˆ†æçƒ­é—¨è§†é¢‘çš„æƒ…æ„Ÿå€¾å‘
3. **å¸‚åœºç ”ç©¶**: ç›‘æµ‹ç«å“è§†é¢‘çš„ç”¨æˆ·è¯„ä»·
4. **å­¦æœ¯ç ”ç©¶**: Bç«™å†…å®¹æƒ…æ„Ÿåˆ†æçš„è¾…åŠ©å·¥å…·

## ğŸ”’ éšç§ä¸å®‰å…¨

- **æœ¬åœ°å¤„ç†**: æ‰€æœ‰åˆ†æåœ¨æœ¬åœ°å®Œæˆï¼Œä¸ä¸Šä¼ ç”¨æˆ·æ•°æ®
- **æœ€å°æƒé™**: Chromeæ‰©å±•ä»…è¯·æ±‚å¿…è¦æƒé™
- **å¼€æºé€æ˜**: ä»£ç å®Œå…¨å¼€æºï¼Œå¯è‡ªè¡Œå®¡è®¡

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

- **æ™ºèƒ½ç¼“å­˜**: è§†é¢‘åˆ†æç»“æœç¼“å­˜ï¼Œé¿å…é‡å¤è®¡ç®—
- **å¼‚æ­¥å¤„ç†**: å¤§é‡è¯„è®ºæ—¶é‡‡ç”¨å¼‚æ­¥åˆ†æ
- **è¿æ¥å¤ç”¨**: WebSocketé•¿è¿æ¥ï¼Œå‡å°‘ç½‘ç»œå¼€é”€
- **å†…å­˜ç®¡ç†**: åˆç†çš„èµ„æºé‡Šæ”¾å’Œåƒåœ¾å›æ”¶

## ğŸ› ï¸ å¼€å‘ä¸è°ƒè¯•

### å¼€å‘æ¨¡å¼
```bash
# Djangoå¼€å‘æœåŠ¡å™¨
python manage.py runserver --settings=settings.dev

# Electronå¼€å‘æ¨¡å¼
npm run dev

# Chromeæ‰©å±•è°ƒè¯•
chrome://extensions/ -> æ‰©å±•è¯¦æƒ… -> åå°é¡µé¢
```

### æ—¥å¿—æŸ¥çœ‹
- **Django**: é¡¹ç›®logsç›®å½•
- **Electron**: å¼€å‘è€…å·¥å…·æ§åˆ¶å°
- **Chromeæ‰©å±•**: æ‰©å±•åå°é¡µé¢æ§åˆ¶å°

## ğŸ“ˆ æ‰©å±•è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤šæƒ…æ„Ÿåˆ†æç®—æ³•
- [ ] æ·»åŠ è¯„è®ºå…³é”®è¯æå–
- [ ] å®ç°å®æ—¶å¼¹å¹•åˆ†æ
- [ ] æ”¯æŒæ‰¹é‡è§†é¢‘åˆ†æ
- [ ] æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] é›†æˆæœºå™¨å­¦ä¹ æ¨¡å‹ä¼˜åŒ–

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
5. æäº¤Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§LICENSEæ–‡ä»¶

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®è´¡çŒ®ä»£ç å’Œå»ºè®®çš„å¼€å‘è€…ï¼

---

**ä½“éªŒåœ°å€**: [GitHub Repository](https://github.com/your-repo/bilibili-sentiment-analysis)

**é—®é¢˜åé¦ˆ**: [Issues](https://github.com/your-repo/bilibili-sentiment-analysis/issues)

**æ–‡æ¡£æ›´æ–°**: æœ€åæ›´æ–°æ—¶é—´ - 2026å¹´1æœˆ
